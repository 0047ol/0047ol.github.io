<!DOCTYPE html>
<html lang="zh-CN">
 <head> 
  <!--网页编码--> 
  <meta charset="utf-8" /> 
  <!--网页自适应--> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no" /> 
  <!--浏览器内核控制--> 
  <meta name="renderer" content="webkit" /> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /> 
  <meta http-equiv="Cache-Control" content="no-siteapp,must-revalidate">
  <meta http-equiv="expires" content="0">
  <!--分享标题--> 
  <meta name="sharename" itemprop="name" content="0047ol"/>
  <!--分享图标--> 
  <meta name="shareimage" itemprop="image" content="//www.0047ol.com/logo.png" />
  <!--网站关键词--> 
  <meta name="keywords" content="0047ol" />
  <!--网站描述--> 
  <meta name="description" itemprop="description" content="0047ol" />
  <meta name="author" content="@0047ol"/>
  <meta name="copyright" content="©0047ol"/>
  <!--网站标题--> 
  <title>加载中...</title>
  <!--网站图标--> 
  <link rel="shortcut icon" href="//www.0047ol.com/logo.png" type="image/png" /> 
  <!--引入CSS--> 
  <link type="text/css" rel="stylesheet" href="//cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css" /> 
  <link type="text/css" rel="stylesheet" href="//www.0047ol.com/s5droid/mduistatic.css" /> 
  <link type="text/css" rel="stylesheet" href="//cdn.jsdelivr.net/npm/materialize-css@0.97.8/dist/css/materialize.min.css" /> 
  <link type="text/css" rel="stylesheet" href="//www.0047ol.com/assets/css/0047ol.css" />
  <link type="text/css" rel="stylesheet" href="//www.0047ol.com/app/index.css" />
  <!--引入JS--> 
  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script> 
 </head> 
 <!--主题及强调色--> 
 <body id="body_content" class="mdui-theme-primary-blue mdui-theme-accent-blue"> 
 <div class="preloader"> 
   <div class="loader_34"> 
    <div class="ytp-spinner"> 
     <div class="ytp-spinner-container"> 
      <div class="ytp-spinner-rotator"> 
       <div class="ytp-spinner-left"> 
        <div class="ytp-spinner-circle"></div> 
       </div> 
       <div class="ytp-spinner-right"> 
        <div class="ytp-spinner-circle"></div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div id="bigimg" style="position:absolute;z-index:99999;width:100%;height:100%;top:0px;left:0px;display:none;" onclick="closeimg();"></div>
  <!--电脑端布局，强制使用手机浏览-->
  <!--如需不要，请删除桌面端布局并把手机端布局中的”mdui-hidden-lg-up”删除--> 
  <div id="content_l" class="container mdui-valign mdui-hidden-md-down">
    <div class="mdui-valign mdui-center mdui-color-white mdui-shadow-3" style="margin:50px;padding:10px;width:50%;height:50%;border-radius:10px">
     <div id="qrcode" class="mdui-center">
	    <div style="font-size:16px;font-weight:bold;text-align:center;padding-bottom:20px;">请使用手机扫码查看</div>
	 </div>
	</div>
	<input type="text" style="display:none" id="short_urls"/>
  </div>
  <!--手机端布局-->
  <div id="content_2" class="mdui-card mdui-shadow-0 mdui-hidden-lg-up">
   <div class="mdui-card-media"> 
    <div class="mdui-grid-tile">
     <button id="top_back_button" class="mdui-btn mdui-btn-icon mdui-float-left mdui-text-color-white" mdui-tooltip="{content:'分享'}" style="top:18px;left:18px;" onclick="goBack();">
      <i class="mdui-icon material-icons">share</i>
      </button> 
     <div class="mdui-card-menu">
      <button id="top_more_button" class="mdui-btn mdui-btn-icon mdui-text-color-white" mdui-tooltip="{content:'更多'}" onclick="new mdui.Menu('#top_more_button','#menu_more').open();">
      <i class="mdui-icon material-icons">more_vert</i>
      </button> 
      <ul id="menu_more" class="mdui-menu">
      <li class="mdui-menu-item"><a href="javascript:;" onclick="joinQun();" class="mdui-ripple">加入群聊</a></li>
      <li class="mdui-menu-item"><a href="javascript:;" onclick="joinQQ();" class="mdui-ripple">联系作者</a></li>
      </ul>
     </div> 
      <div id="top_image" style="width:100%;height:100%;padding:30px;padding-bottom:30px;background:url('http://pic1.win4000.com/wallpaper/2/58ec66d09b4a7.jpg');background-size:100% 100%;background-repeat:no-repeat;">
       <img id="top_app_icon" class="mdui-center mdui-hoverable mdui-text-center" style="padding-left:0px;width:70px;height:70px;border-radius:8px" src="//www.0047ol.com/s5droid/1080_1080.png" />
	   <p id="top_app_name" style="font-size:18px;color:white;font-weight:bold;text-shadow:1px 1px 1px #000;text-align:center;position:relative;">没有名称</p> 
       <p style="margin-top:-10px;font-size:15px;color:white;text-shadow:1px 1px 1px #000;text-align:center;position:relative;"><font id="top_last_updatetime">0B</font> | v<font id="top_download_button">0.0</font> | 简体中文</p> 
	   <button id="down_btn" class="mdui-btn mdui-btn-dense mdui-color-theme-accent mdui-btn-raised mdui-ripple mdui-ripple-white mdui-center mdui-text-center" style="color:white;font-weight:bold;text-align:center;position:relative;"><i class="mdui-icon material-icons" style="font-size:16px;">android</i> 下载</button>
      </div>  
    </div> 
    <div class="mdui-card-primary" style="padding-top:0px;"> 
     <div class="mdui-card-primary-title" style="margin-top:15px;margin-bottom:10px;font-size:20px;">应用截图</div> 
     <div class="mdui-row-xs-5" style="margin-right:6px">
      <div id="app_screenshots_box" class="box"> 
       <div class="box1"> 
        <img id="image1" src="//www.0047ol.com/s5droid/1080_1920.png" onclick="imgbig(this);" />
       </div> 
       <div class="box1"> 
        <img id="image2" src="//www.0047ol.com/s5droid/1080_1920.png" onclick="imgbig(this);" /> 
       </div> 
       <div class="box1"> 
        <img id="image3" src="//www.0047ol.com/s5droid/1080_1920.png" onclick="imgbig(this);" /> 
       </div> 
       <div class="box1"> 
        <img id="image4" src="//www.0047ol.com/s5droid/1080_1920.png" onclick="imgbig(this);" /> 
       </div> 
       <div class="box1"> 
        <img id="image5" src="//www.0047ol.com/s5droid/1080_1920.png" onclick="imgbig(this);" /> 
       </div> 
      </div> 
     </div> 
     <div class="mdui-card-primary-title" style="margin-top:15px;margin-bottom:10px;font-size:20px;">应用简介</div> 
     <div class="mdui-typo-caption mdui-text-color-black-icon" id="edit_info">
	 没有介绍
	 </div>
     <!--<div class="mdui-card-primary-title" style="margin-top:15px;margin-bottom:10px;font-size:20px;">更新日志</div> 
     <div class="mdui-typo-caption mdui-text-color-black-icon" id="edit_update_log">
	 没有日志
	 </div>-->
     <div class="mdui-card-primary-title" style="margin-top:15px;margin-bottom:10px;font-size:20px;">应用详情</div> 
     <div class="mdui-typo-caption mdui-text-color-black-icon">
      <div>应用大小：<font id="edit_app_size">0B</font></div>
      <div>应用包名：<font id="edit_app_package">null</font></div>
      <div>应用版本：<font id="edit_app_version">0.0</font></div>
      <div>更新时间：<font id="edit_app_update_time">0000-00-00 00:00</font></div>
      <div>开发人员：<font id="edit_app_author">没有作者</font></div>
	  <div>支持ROM：4.4+</div>
     </div>
	 <div class="mdui-card-primary-title" style="margin-top:15px;margin-bottom:10px;font-size:20px;">应用权限</div> 
	 <div class="mdui-typo-caption mdui-text-color-black-icon">
	 <div>·访问设备和电话功能</div> 
	 <div>·创建网络套接字和使用自定义网络协议</div> 
	 <div>·读取和写入共享储存空间的内容</div> 
	 </div> 
    </div> 
   </div>
  </div>
  <!--返回顶部--> 
  <button id="fab_up" onclick="scrolTop('body_content');" class="mdui-fab mdui-fab-hide mdui-fab-fixed mdui-ripple mdui-m-b-4 mdui-color-theme-accent" style="z-index:9999">
  <i class="mdui-icon material-icons">expand_less</i>
  </button> 
  <!--底部页脚-->
  <footer id="footer_content" class="mdui-hidden-lg-up"> 
   <div id="bottom_copyright" class="mdui-valign mdui-color-grey-50" style="padding:20px;"> 
    <!--版权信息--> 
    <div id="bottom_copyright_content" class="mdui-center mdui-text-center mdui-text-color-black-icon" style="font-size:10px;">
	 <!--作者版权-->
     <div id="copyright">Copyright ©<font class="copyright_year"></font> <a id="footer_copyright_author" href="javascript:;" onclick="joinQQ();"></a> All Rights Reserved</div>
	 <!--用的人家的MDUI--> 
     <div id="powered">Powered by <a href="//www.mdui.org/">MDUI</a>&<a href="//www.0047ol.com/">0047ol</a></div>
    </div> 
   </div> 
  </footer> 
  <!--引入JS--> 
  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  <script type="text/javascript" src="//www.0047ol.com/app/index.js"></script> 
  <!--JS脚本--> 
  <script type="text/javascript">
  if (this.location.search.indexOf("?") == 0 && this.location.search.indexOf("=") > 1 && this.location.search.indexOf("url") > -1) {
    var download_url = getParam('url');
    var background = getParam('background');
    var app_icon = getParam('icon');
    var app_screenshots1 = getParam('screenshots1');
    var app_screenshots2 = getParam('screenshots2');
    var app_screenshots3 = getParam('screenshots3');
    var app_screenshots4 = getParam('screenshots4');
    var app_screenshots5 = getParam('screenshots5');
    var app_info = getParam('info');
    var app_package = getParam('package');
    var author_qq = getParam('qq');
    var author_qun = getParam('qun');
    $.ajax({
        url: "//www.0047ol.com/tool/lanzou/index.php?url=" + encodeURIComponent(download_url),
        type: "GET",
        dataType: "json",
        success: function(data) {
            var json = eval(data);
            var app_name = json.name;
            var update_time = json.time;
            var app_version = json.version;
            var apk_size = json.size;
            var app_author = json.author;
            var app_download_url = json.url;
            if (!checkTxtK(app_name)) {
                document.title = app_name;
                changeMeta('sharename', app_name);
                changeMeta('keywords', app_name);
                setCnt('top_app_name', app_name);
            } else {
                document.title = '没有名称';
            };
            if (!checkTxtK(update_time)) {
                setCnt('edit_app_update_time', update_time);
            };
            if (!checkTxtK(app_version)) {
                setCnt('top_download_button', app_version);
                setCnt('edit_app_version', app_version);
            };
            if (!checkTxtK(apk_size)) {
                setCnt('top_last_updatetime', apk_size);
                setCnt('edit_app_size', apk_size);
            };
            if (!checkTxtK(app_author)) {
                changeMeta('author', app_author);
                setCnt('edit_app_author', app_author);
                setCnt('footer_copyright_author', app_author);
            };
            //分享按钮事件
            document.getElementById('top_back_button').onclick = function() {
                var shortUrl = getVue('short_urls');
                if (!checkTxtK(download_url) && !checkTxtK(shortUrl)) {
                    if (checkTxtK(app_icon)) {
                        app_icon = 'https://www.0047ol.com/logo.png';
                    }
                    if (checkTxtK(app_name)) {
                        app_name = '没有名称';
                    }
                    if (checkTxtK(app_info)) {
                        app_info = '没有介绍';
                    }
                    window.location.href = 'mqqapi://share/to_fri?file_type=news&src_type=web&version=1&generalpastboard=1&share_id=1105471055&url=' + encode64(utf16to8(shortUrl)) + '&previewimageUrl=' + encode64(utf16to8(app_icon)) + '&image_url=' + encode64(utf16to8(app_icon)) + '&title=' + encode64(utf16to8(app_name)) + '&description=' + encode64(utf16to8(app_info)) + '&callback_type=scheme&thirdAppDisplayName=UVE=&app_name=UVE=&cflag=0&shareType=0'
                } else {
                    alert('未设置下载链接');
                }
            };
            //下载按钮事件
            document.getElementById('down_btn').onclick = function() {
                if (!checkTxtK(download_url)) {
                    openUrl(app_download_url);
                } else {
                    alert('未设置下载链接');
                }
            };
        }
    });
    if (!checkTxtK(background) && background.indexOf("http") != -1) {
        $('#top_image').css({
            'background': 'url(' + background + ')',
            'background-size': '100% 100%',
            'background-repea': 'no-repeat'
        });
    }
    if (!checkTxtK(app_icon) && app_icon.indexOf("http") != -1) {
        changeFavicon(app_icon);
        changeMeta('shareimage', app_icon);
        setSrc('top_app_icon', app_icon);
    }
    if (!checkTxtK(app_screenshots1) && app_screenshots1.indexOf("http") != -1) {
        setSrc('image1', app_screenshots1);
    }
    if (!checkTxtK(app_screenshots2) && app_screenshots2.indexOf("http") != -1) {
        setSrc('image2', app_screenshots2);
    }
    if (!checkTxtK(app_screenshots3) && app_screenshots3.indexOf("http") != -1) {
        setSrc('image3', app_screenshots3);
    }
    if (!checkTxtK(app_screenshots4) && app_screenshots4.indexOf("http") != -1) {
        setSrc('image4', app_screenshots4);
    }
    if (!checkTxtK(app_screenshots5) && app_screenshots5.indexOf("http") != -1) {
        setSrc('image5', app_screenshots5);
    }
    if (!checkTxtK(app_info)) {
        changeMeta('description', app_info);
        setCnt('edit_info', app_info);
    }
    if (!checkTxtK(app_package)) {
        setCnt('edit_app_package', app_package);
    }
  } else {
    document.body.innerHTML = '';
    document.title = '错误';
    alert('参数不正确');
  }
  //菜单加Q事件
  function joinQQ() {
    if (!checkTxtK(author_qq)) {
        openQQ(author_qq, 'qq');
    } else {
        alert('未设置QQ号码');
    }
  };
  //菜单加群事件
  function joinQun() {
    if (!checkTxtK(author_qun)) {
        openQQ(author_qun, 'qun');
    } else {
        alert('未设置QQ群号码');
    }
  };
  </script>  
 </body>
</html>
